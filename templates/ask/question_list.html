{% extends '_base.html' %}
{% block title %}Questions{% endblock title %}
{% block head %}
    {% include 'ask/like_script.html' %}
{% endblock %}
{% block content %}
    <a href="{% url 'question_create' %}" class="btn btn-success mb-4">Ask Question</a>
    <ul class="nav justify-content-left">
        <li><span class="nav-link px-2 text-muted">All Questions</span></li>
        <li><a href="{% url 'my_question_list' %}" class="nav-link px-2 ">My Questions</a></li>
    </ul>
    {% for question in question_list %}
    <div class="mb-4 mt-3">
        <h5 class="mb-0 {% if question.author == user %} text-success {% else %} text-primary {% endif %}">
            Question {{ question.id }}:
        </h5>
        <small class="text-body-secondary">
            {{ question.created_at }}, <i>by {{ question.author }}</i>
        </small>
        <p class="mb-2 mt-1">{{ question.text }}</p>
        <p class="mb-2">
            <a href="{% url 'like' %}" class="like_unlike_btn text-decoration-none
            {% if user in question.like.all %} text-danger
            {% else %} text-primary {% endif %}" id="question_like_{{ question.id }}">
            <i class="fa-solid fa-thumbs-up"></i>
            </a>
            <span><small id="question_like_count_{{ question.id }}">{{ question.like.count }}</small></span>
            <a style="margin-left: 6pt;" href="{% url 'like' %}" class="like_unlike_btn text-decoration-none
            {% if user in question.unlike.all %} text-danger
            {% else %} text-primary {% endif %}" id="question_unlike_{{ question.id }}">
            <i class="fa-solid fa-thumbs-down"></i>
            </a>
            <span><small id="question_unlike_count_{{ question.id }}">{{ question.unlike.count }}</small></span>
        </p>
        <a class="text-decoration-none" href="{% url 'question_detail' pk=question.id %}">Details</a>
        {% if question.author != user %}
        <a class="text-decoration-none text-success mx-2" href="{% url 'answer_to_question' pk=question.id %}">Answer</a>
        {% endif %}
    </div>
    {% endfor %}
{% endblock content %}